% !TEX root = ../diz.tex
Some results in chapter \ref{cha:p_systems} refer to \index{Semilinear set} semilinear sets \cite{Ibarra:03:Catalytic}, so we will define them in this section.
\begin{definition}
  A {\bf linear set} $L(v_0,v_1,\ldots,v_r)$ is a subset $\{v_0+\sum\limits_{i=1}^r a_iv_i|a_i\in\mathbb N\}$ of $\mathbb N^n$, where $v_0,v_1,\ldots,v_r\in \mathbb N^n$.
\end{definition}

We call $v_0$ the initial vector and $v_1,\ldots,v_r$ the generator vectors of the linear set. Basically, a linear set is a set of $n$-dimensional vectors given by integral linear combinations (with integer coefficients) of generator vectors added to the initial vector.

\begin{example}
  For $n=1$ the linear set is a subset of $\mathbb N$. For $n=1$ and $r=1$ we get an arithmetic progression.
\end{example}

\begin{example}
  $L((0,0),(0,1),(1,0))$ defines all pairs of natural numbers.
\end{example}

\begin{definition}
  A subset of $\mathbb N^n$ is called {\bf semilinear} if it is a finite union of linear sets.
\end{definition}

\subsection{Parikh's mapping} % (fold)
\label{sec:parikh_s_mapping}

In this subsection we show how semilinear sets and multisets relate to the formal language theory. We will start with several basic definitions.

The number of occurrences of a given symbol $a\in \Sigma$ in the string $w\in \Sigma^*$ is denoted by $|w|_a$.

\begin{definition}
$\Psi_\Sigma(w)=(|w|_{a_1},|w|_{a_2},\ldots,|w|_{a_n})$ is called a {\bf Parikh image of the string} $w\in \Sigma^*$, where $\Sigma=\{a_1,a_2,\ldots a_n\}$.
\end{definition}

When referring to the \index{Parikh's mapping} Parikh mapping for a language, this should be taken to mean the mapping applied to all the words on the language. This idea is expressed in the next definition. 

\begin{definition}
For a language $L\subseteq \Sigma^*$, $\Psi_\Sigma(L)=\{\Psi_\Sigma(w)|w\in L\}$ is the {\bf Parikh image of the language} $L$.
\end{definition}

\begin{definition}
If $FL$ is a family of languages, by $PsFL$ we denote the family of Parikh images of languages in $FL$, e.g. $PsCF, PsRE$.
\end{definition}

\begin{example}
Consider an alphabet $V=\{a,b\}$ and a language $L=\{a, ab, ba\}$.
$\Psi_\Sigma(L)=\{(1,0), (1,1)\}$. Notice that Parikh image of $L$ has only 2 element while $L$ has 3 elements.
\end{example}

\begin{example}
  Consider the context-free grammar $G = (N,T,P,\sigma)$, where $N=\{A,B\}$, $T=\{a,b\}$ and with rules $P=\{\sigma\rightarrow A\sigma B|B\sigma A|ab, A\rightarrow a, B\rightarrow b\}$.

  This means that the language generated by $G$ contains strings where $a$s and $b$s can occur intermixed. But, as is clear from the language definition, the same number of $a$s and $b$s will always be present. Moreover, there will always be at least one of each letters.

  Consider the words $w_1 = aaaabbbb \in L(G)$ and $w_2 = babababa \in L(G)$. Both of these words have the same Parikh image: $\Psi_\Sigma(w_i) = (4,4)$. It is interesting to note that most information embedded in a word generated with a context-free grammar is thrown away by the Parikh mapping.
\end{example}

This loss of information is expressed in the \index{Parikh's theorem} Parikh's theorem \cite{Parikh66}, stating that the Parikh image of a context-free language is semilinear. The biggest implication of the theorem though, is that it shows that if the order of the symbols is ignored, then it is impossible to distinguish between a regular set and a context-free language \cite{Kozen97Automata}.

Another interesting result appeared in \cite{Ito69Semilinear} that every semilinear set is a finite union of disjoint linear sets.

% subsection parikh_s_mapping (end)
