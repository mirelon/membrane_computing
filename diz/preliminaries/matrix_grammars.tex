% !TEX root = ../diz.tex
Context-free grammars are well-studied and well-behaved in terms of decidability, but many real-world problems cannot be described with context-free grammars. Grammars with regulated rewriting are grammars with mechanisms to regulate the application of rules, so that certain derivations are avoided. They often have a higher generative capacity than context-free grammars.

Matrix grammars (\cite{Cremers73OnMatrixLanguages}), as introduced by Abraham (1965) fall into this category. Rewriting rules cannot be applied separately, but they are grouped together into finite sequences, and they must be applied in sequence.

\begin{definition}
Let $G = (N, T, P, \sigma)$ be a context-free grammar. Let $M$ be a finite set of matrices, which are sequences of context-free rules from $P$. These sequences are called matrices and the pair $G_m = (G, M)$ is called a context-free \index{matrix grammar}{\bf matrix grammar}.
\end{definition}

\begin{definition}
A {\bf rewriting step} $x\Rightarrow y$ holds only if there is a matrix $(u_1\rightarrow v_1, u_2\rightarrow v_2, \ldots, u_n\rightarrow v_n) \in M$ such that for each $1\leq i\leq n$ the following holds: $x_i = x_i^{\prime}u_ix_i^{\prime\prime}$ and $x_{i+1} = x_i^{\prime}v_ix_i^{\prime\prime}$, where $x_i, x_i^{\prime}, x_i^{\prime\prime} \in (N\cup T)^*$ and $x_1 = x$ and $x_{n+1} = y$.
\end{definition}

\begin{example}
Consider the following matrix grammar:
$$G_m=((\{\sigma, X,Y\}, \{ a,b,c\}, P, \sigma), M),$$
where $P$ contains rules
$$\sigma\rightarrow XY, X\rightarrow aXb, Y\rightarrow cY, X\rightarrow ab, Y\rightarrow c$$
and $M$ contains three matrices:
$$[\sigma\rightarrow XY], [X\rightarrow aXb, Y\rightarrow cY], [X\rightarrow ab, Y\rightarrow c].$$
The following example computation of $G_m$ uses the first matrix, then three times the second matrix and finally the last matrix:
$$\sigma\Rightarrow XY\Rightarrow aXbcY\Rightarrow aaXbbccY\Rightarrow aaaXbbbcccY\Rightarrow aaabbbccc$$
Although there are only context-free rules, yet the grammar generate the context-sensitive language $\{a^nb^nc^n|n\geq 1\}$.
\end{example}

The family of matrix grammars is denoted $MAT$. It is known that $CF \subset MAT \subset RE$. Interestingly, $MAT \cap {a}^* \subset R$ (see \cite{Besozzi:PhD:2004}).
